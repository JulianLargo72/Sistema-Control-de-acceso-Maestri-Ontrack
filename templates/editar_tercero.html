<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Editar Tercero</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta2/dist/css/bootstrap-select.min.css">
    <link rel="shortcut icon" href="/static/imagenes/favi.ico" />
</head>
<body>
{% include 'navbar.html' %}
<br>
<div class="container mt-4">
    <div class="card">
        <div class="card-body">
            <h1 class="card-title text-center">Editar Tercero</h1>
            <br>
            <form method="post" action="/editar_tercero/{{ tercero.id }}">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="form-label" for="nombre_usuario">Nombre:</label>
                            <input type="text" id="nombre" name="nombre" value="{{ tercero.nombre }}" class="form-control" readonly>
                        </div>
                        <br>
                        <div class="form-group">
                            <label class="form-label" for="identificacion_usuario">Identificación:</label>
                            <input type="text" id="identificacion" name="identificacion" value="{{ tercero.identificacion }}" class="form-control" readonly>
                        </div>
                        <br>
                        <div class="form-group">
                            <label class="form-label" for="area">Vínculo:</label>
                            <select id="area" name="area" class="form-control w-100 bootstrap-select" data-width="auto" required data-live-search="true">
                                <option value="Tercero">Tercero</option>
                            </select>
                        </div>
                        <br>
                        <div class="form-group">
                            <label class="form-label" for="fecha">Fecha:</label>
                            <input type="date" id="fecha" name="fecha" value="{{ tercero.fecha }}" class="form-control" required>
                        </div>
                        <br>
                        <div class="form-group">
                            <label class="form-label" for="hora_escaneo">Hora Escaneo:</label>
                            <input type="time" id="hora_escaneo" name="hora_escaneo" value="{{ tercero.hora_escaneo }}" class="form-control" step="1"required>
                        </div>
                        <br>
                        <div class="form-group">
                            <label class="form-label" for="hora_entrada">Hora Entrada:</label>
                            <input type="time" id="hora_entrada" name="hora_entrada" value="{{ tercero.hora_entrada }}" class="form-control" step="1" required>
                        </div>
                        <br>
                        <div class="form-group">
                            <label class="form-label" for="hora_salida">Hora Salida:</label>
                            <input type="time" id="hora_salida" name="hora_salida" value="{{ tercero.hora_salida }}" class="form-control" step="1" required>
                        </div>
                        <br>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="form-label" for="compañia" class="form-label">Compañía:</label>
                            <input type="text" id="compañia" name="compañia" value="{{ tercero.compañia }}" class="form-control" required>
                        </div>
                        <br>
                        <div class="form-group">
                            <label class="form-label" for="motivo" class="form-label">Motivo:</label>
                            <input type="text" id="motivo" name="motivo" value="{{ tercero.motivo }}" class="form-control" required>
                        </div>
                        <br>
                        <div class="form-group">
                            <label class="form-label" for="dependencia" class="form-label">Dependencia:</label>
                            <select id="dependencia" name="dependencia" class="form-control" data-width="auto" required>
                                <option value="Administrativa" {% if tercero.area == 'Administrativa' %} selected {% endif %}>Administrativa</option>
                                <option value="Gerencial" {% if tercero.area == 'Gerencial' %} selected {% endif %}>Gerencial</option>
                                <option value="Comercial" {% if tercero.area == 'Comercial' %} selected {% endif %}>Comercial</option>
                                <option value="Operaciones" {% if tercero.area == 'Operaciones' %} selected {% endif %}>Operaciones</option>
                            </select>
                        </div>
                        <br>
                        <div class="form-group">
                            <label class="form-label" for="recibe" class="form-label">Recibe:</label>
                            <select id="recibe" name="recibe" class="form-control w-100 bootstrap-select" data-width="auto" required data-live-search="true">
                                <option value="{{ tercero.recibe}}">{{ tercero.recibe}}</option>
                                {% for usuario in usuarios %}
                                <option value="{{ usuario.nombre }}">{{ usuario.nombre }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <br>
                        <div class="form-group">
                            <label class="form-label" for="arl" class="form-label">ARL:</label>
                            <input type="text" id="arl" name="arl" value="{{ tercero.arl }}" class="form-control" required>
                        </div>
                        <br>
                        <div class="form-group">
                            <label class="form-label" for="equipo" class="form-label">Equipo:</label>
                            <select id="equipo" name="equipo" class="form-control" data-width="auto" required>
                                <option value="Tablet" {% if tercero.equipo == 'Tablet' %} selected {% endif %}>Tablet</option>
                                <option value="PC" {% if tercero.equipo == 'PC' %} selected {% endif %}>PC</option>
                                <option value="N/A" {% if tercero.equipo == 'N/A' %} selected {% endif %}>N/A</option>
                            </select>
                        </div>
                    </div>
                </div>
                <br>    
                <button type="submit" class="btn btn-primary">Guardar Cambios</button>
            </form>
        </div>
    </div>
</div>
<br><br><br>
    <footer class="bg-light p-3 text-center">
      <p class="mb-0">&copy; 2024 - Todos los derechos reservados | Maestri on Track S.A.S</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta2/dist/js/bootstrap-select.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.full.min.js"></script>

    <script>
        $(document).ready(function() {
        
            // Inicializar select2 para el select de área
            $('#area').select2({
                theme: 'bootstrap-5',
                allowClear: true,
                placeholder: 'Seleccione una opcion',
            });

            $('#dependencia').select2({
                theme: 'bootstrap-5',
                allowClear: true,
                placeholder: 'Seleccione una opcion',
            });

            $('#recibe').select2({
                theme: 'bootstrap-5',
                allowClear: true,
                placeholder: 'Seleccione una opcion',
            });
        
            $('#equipo').select2({
                theme: 'bootstrap-5',
                allowClear: true,
                placeholder: 'Seleccione una opcion',
            });
        });
    </script>
  </body>
</html>
